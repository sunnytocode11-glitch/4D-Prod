!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).Lenis=e()}(this,function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,o(n.key),n)}}function e(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),Object.defineProperty(e,"prototype",{writable:!1}),e}function i(){return(i=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])}return t}).apply(this,arguments)}function o(t){var e=function t(e,i){if("object"!=typeof e||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,i||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(e)}(t,"string");return"symbol"==typeof e?e:String(e)}function n(t,e,i){return Math.max(t,Math.min(e,i))}var s=function(){function t(){}var e=t.prototype;return e.advance=function t(e){if(this.isRunning){var i,o,s,r,l,h,a,c,u=!1;if(this.lerp)this.value=(i=this.value,o=this.to,s=60*this.lerp,r=e,l=i,h=o,(1-(a=1-Math.exp(-s*r)))*l+a*h),Math.round(this.value)===this.to&&(this.value=this.to,u=!0);else{this.currentTime+=e;var p=n(0,this.currentTime/this.duration,1),v=(u=p>=1)?1:this.easing(p);this.value=this.from+(this.to-this.from)*v}null==(c=this.onUpdate)||c.call(this,this.value,u),u&&this.stop()}},e.stop=function t(){this.isRunning=!1},e.fromTo=function t(e,i,o){var n=o.lerp,s=o.duration,r=o.easing,l=o.onStart,h=o.onUpdate;this.from=this.value=e,this.to=i,this.lerp=void 0===n?.1:n,this.duration=void 0===s?1:s,this.easing=void 0===r?function(t){return t}:r,this.currentTime=0,this.isRunning=!0,null==l||l(),this.onUpdate=h},t}(),r=function(){function t(t){var e=this,i=void 0===t?{}:t,o=i.wrapper,n=i.content,s=i.autoResize;if(this.resize=function(){e.onWrapperResize(),e.onContentResize()},this.onWrapperResize=function(){e.wrapper===window?(e.width=window.innerWidth,e.height=window.innerHeight):(e.width=e.wrapper.clientWidth,e.height=e.wrapper.clientHeight)},this.onContentResize=function(){e.scrollHeight=e.content.scrollHeight,e.scrollWidth=e.content.scrollWidth},this.wrapper=o,this.content=n,void 0===s||s){var r,l,h=(r=this.resize,function(){var t=arguments,e=this;clearTimeout(l),l=setTimeout(function(){r.apply(e,t)},250)});this.wrapper!==window&&(this.wrapperResizeObserver=new ResizeObserver(h),this.wrapperResizeObserver.observe(this.wrapper)),this.contentResizeObserver=new ResizeObserver(h),this.contentResizeObserver.observe(this.content)}this.resize()}return t.prototype.destroy=function t(){var e,i;null==(e=this.wrapperResizeObserver)||e.disconnect(),null==(i=this.contentResizeObserver)||i.disconnect()},e(t,[{key:"limit",get:function t(){return{x:this.scrollWidth-this.width,y:this.scrollHeight-this.height}}}]),t}(),l=function(){function t(){this.events={}}var e=t.prototype;return e.emit=function t(e){for(var i=this.events[e]||[],o=0,n=i.length;o<n;o++)i[o].apply(i,[].slice.call(arguments,1))},e.on=function t(e,i){var o,n=this;return(null==(o=this.events[e])?void 0:o.push(i))||(this.events[e]=[i]),function(){var t;n.events[e]=null==(t=n.events[e])?void 0:t.filter(function(t){return i!==t})}},e.off=function t(e,i){var o;this.events[e]=null==(o=this.events[e])?void 0:o.filter(function(t){return i!==t})},e.destroy=function t(){this.events={}},t}(),h=function(){function t(t,e){var i=this,o=e.wheelMultiplier,s=e.touchMultiplier,r=e.normalizeWheel;this.onTouchStart=function(t){var e=t.targetTouches?t.targetTouches[0]:t,o=e.clientX,n=e.clientY;i.touchStart.x=o,i.touchStart.y=n,i.lastDelta={x:0,y:0}},this.onTouchMove=function(t){var e=t.targetTouches?t.targetTouches[0]:t,o=e.clientX,n=e.clientY,s=-(o-i.touchStart.x)*i.touchMultiplier,r=-(n-i.touchStart.y)*i.touchMultiplier;i.touchStart.x=o,i.touchStart.y=n,i.lastDelta={x:s,y:r},i.emitter.emit("scroll",{deltaX:s,deltaY:r,event:t})},this.onTouchEnd=function(t){i.emitter.emit("scroll",{deltaX:i.lastDelta.x,deltaY:i.lastDelta.y,event:t})},this.onWheel=function(t){var e=t.deltaX,o=t.deltaY;i.normalizeWheel&&(e=n(-100,e,100),o=n(-100,o,100)),e*=i.wheelMultiplier,o*=i.wheelMultiplier,i.emitter.emit("scroll",{deltaX:e,deltaY:o,event:t})},this.element=t,this.wheelMultiplier=void 0===o?1:o,this.touchMultiplier=void 0===s?2:s,this.normalizeWheel=void 0!==r&&r,this.touchStart={x:null,y:null},this.emitter=new l,this.element.addEventListener("wheel",this.onWheel,{passive:!1}),this.element.addEventListener("touchstart",this.onTouchStart,{passive:!1}),this.element.addEventListener("touchmove",this.onTouchMove,{passive:!1}),this.element.addEventListener("touchend",this.onTouchEnd,{passive:!1})}var e=t.prototype;return e.on=function t(e,i){return this.emitter.on(e,i)},e.destroy=function t(){this.emitter.destroy(),this.element.removeEventListener("wheel",this.onWheel,{passive:!1}),this.element.removeEventListener("touchstart",this.onTouchStart,{passive:!1}),this.element.removeEventListener("touchmove",this.onTouchMove,{passive:!1}),this.element.removeEventListener("touchend",this.onTouchEnd,{passive:!1})},t}();return function(){function t(t){var e=this,o=void 0===t?{}:t,n=o.wrapper,a=void 0===n?window:n,c=o.content,u=void 0===c?document.documentElement:c,p=o.wheelEventsTarget,v=void 0===p?a:p,d=o.eventsTarget,f=void 0===d?v:d,m=o.smoothWheel,g=void 0===m||m,$=o.smoothTouch,S=void 0!==$&&$,y=o.syncTouch,_=void 0!==y&&y,w=o.syncTouchLerp,T=o.__iosNoInertiaSyncTouchLerp,z=o.touchInertiaMultiplier,b=o.duration,L=o.easing,E=o.lerp,k=o.infinite,M=o.orientation,R=o.gestureOrientation,W=o.touchMultiplier,x=void 0===W?1:W,C=o.wheelMultiplier,O=void 0===C?1:C,H=o.normalizeWheel,N=void 0!==H&&H,X=o.autoResize,Y=void 0===X||X;this.onVirtualScroll=function(t){var o=t.deltaX,n=t.deltaY,s=t.event;if(!s.ctrlKey){var r=s.type.includes("touch"),l=s.type.includes("wheel");if(("both"!==e.options.gestureOrientation||0!==o||0!==n)&&("vertical"!==e.options.gestureOrientation||0!==n)&&("horizontal"!==e.options.gestureOrientation||0!==o)&&(!r||"vertical"!==e.options.gestureOrientation||0!==e.scroll||e.options.infinite||!(n<=0))){var h=s.composedPath();if(!(h=h.slice(0,h.indexOf(e.rootElement))).find(function(t){var e;return(null==t.hasAttribute?void 0:t.hasAttribute("data-lenis-prevent"))||r&&(null==t.hasAttribute?void 0:t.hasAttribute("data-lenis-prevent-touch"))||l&&(null==t.hasAttribute?void 0:t.hasAttribute("data-lenis-prevent-wheel"))||(null==(e=t.classList)?void 0:e.contains("lenis"))})){if(e.isStopped||e.isLocked){s.preventDefault();return}if(e.isSmooth=(e.options.smoothTouch||e.options.syncTouch)&&r||e.options.smoothWheel&&l,!e.isSmooth){e.isScrolling=!1,e.animate.stop();return}s.preventDefault();var a=n;"both"===e.options.gestureOrientation?a=Math.abs(n)>Math.abs(o)?n:o:"horizontal"===e.options.gestureOrientation&&(a=o);var c=r&&e.options.syncTouch,u=r&&"touchend"===s.type&&Math.abs(a)>1;u&&(a=e.velocity*e.options.touchInertiaMultiplier),e.scrollTo(e.targetScroll+a,i({programmatic:!1},c&&{lerp:u?e.syncTouchLerp:e.options.__iosNoInertiaSyncTouchLerp}))}}}},this.onNativeScroll=function(){if(!e.__preventNextScrollEvent&&!e.isScrolling){var t=e.animatedScroll;e.animatedScroll=e.targetScroll=e.actualScroll,e.velocity=0,e.direction=Math.sign(e.animatedScroll-t),e.emit()}},window.lenisVersion="1.0.29",(a===document.documentElement||a===document.body)&&(a=window),this.options={wrapper:a,content:u,wheelEventsTarget:v,eventsTarget:f,smoothWheel:g,smoothTouch:S,syncTouch:_,syncTouchLerp:void 0===w?.1:w,__iosNoInertiaSyncTouchLerp:void 0===T?.4:T,touchInertiaMultiplier:void 0===z?35:z,duration:b,easing:void 0===L?function(t){return Math.min(1,1.001-Math.pow(2,-10*t))}:L,lerp:void 0===E?!b&&.1:E,infinite:void 0!==k&&k,gestureOrientation:void 0===R?"vertical":R,orientation:void 0===M?"vertical":M,touchMultiplier:x,wheelMultiplier:O,normalizeWheel:N,autoResize:Y},this.animate=new s,this.emitter=new l,this.dimensions=new r({wrapper:a,content:u,autoResize:Y}),this.toggleClass("lenis",!0),this.velocity=0,this.isLocked=!1,this.isStopped=!1,this.isSmooth=_||g||S,this.isScrolling=!1,this.targetScroll=this.animatedScroll=this.actualScroll,this.options.wrapper.addEventListener("scroll",this.onNativeScroll,{passive:!1}),this.virtualScroll=new h(f,{touchMultiplier:x,wheelMultiplier:O,normalizeWheel:N}),this.virtualScroll.on("scroll",this.onVirtualScroll)}var o=t.prototype;return o.destroy=function t(){this.emitter.destroy(),this.options.wrapper.removeEventListener("scroll",this.onNativeScroll,{passive:!1}),this.virtualScroll.destroy(),this.dimensions.destroy(),this.toggleClass("lenis",!1),this.toggleClass("lenis-smooth",!1),this.toggleClass("lenis-scrolling",!1),this.toggleClass("lenis-stopped",!1),this.toggleClass("lenis-locked",!1)},o.on=function t(e,i){return this.emitter.on(e,i)},o.off=function t(e,i){return this.emitter.off(e,i)},o.setScroll=function t(e){this.isHorizontal?this.rootElement.scrollLeft=e:this.rootElement.scrollTop=e},o.resize=function t(){this.dimensions.resize()},o.emit=function t(){this.emitter.emit("scroll",this)},o.reset=function t(){this.isLocked=!1,this.isScrolling=!1,this.animatedScroll=this.targetScroll=this.actualScroll,this.velocity=0,this.animate.stop()},o.start=function t(){this.isStopped=!1,this.reset()},o.stop=function t(){this.isStopped=!0,this.animate.stop(),this.reset()},o.raf=function t(e){var i=e-(this.time||e);this.time=e,this.animate.advance(.001*i)},o.scrollTo=function t(e,i){var o=this,s=void 0===i?{}:i,r=s.offset,l=void 0===r?0:r,h=s.immediate,a=s.lock,c=void 0!==a&&a,u=s.duration,p=void 0===u?this.options.duration:u,v=s.easing,d=void 0===v?this.options.easing:v,f=s.lerp,m=void 0===f?!p&&this.options.lerp:f,g=s.onComplete,$=void 0===g?null:g,S=s.force,y=s.programmatic,_=void 0===y||y;if(!this.isStopped&&!this.isLocked||void 0!==S&&S){if(["top","left","start"].includes(e))e=0;else if(["bottom","right","end"].includes(e))e=this.limit;else if("string"==typeof e?T=document.querySelector(e):null!=(w=e)&&w.nodeType&&(T=e),T){if(this.options.wrapper!==window){var w,T,z=this.options.wrapper.getBoundingClientRect();l-=this.isHorizontal?z.left:z.top}var b=T.getBoundingClientRect();e=(this.isHorizontal?b.left:b.top)+this.animatedScroll}if("number"==typeof e){if(e+=l,e=Math.round(e),this.options.infinite?_&&(this.targetScroll=this.animatedScroll=this.scroll):e=n(0,e,this.limit),void 0!==h&&h){this.animatedScroll=this.targetScroll=e,this.setScroll(this.scroll),this.reset(),null==$||$(this);return}if(!_){if(e===this.targetScroll)return;this.targetScroll=e}this.animate.fromTo(this.animatedScroll,e,{duration:p,easing:d,lerp:m,onStart:function t(){c&&(o.isLocked=!0),o.isScrolling=!0},onUpdate:function t(e,i){o.isScrolling=!0,o.velocity=e-o.animatedScroll,o.direction=Math.sign(o.velocity),o.animatedScroll=e,o.setScroll(o.scroll),_&&(o.targetScroll=e),i||o.emit(),i&&(o.reset(),o.emit(),null==$||$(o),o.__preventNextScrollEvent=!0,requestAnimationFrame(function(){delete o.__preventNextScrollEvent}))}})}}},o.toggleClass=function t(e,i){this.rootElement.classList.toggle(e,i),this.emitter.emit("className change",this)},e(t,[{key:"rootElement",get:function t(){return this.options.wrapper===window?document.documentElement:this.options.wrapper}},{key:"limit",get:function t(){return this.dimensions.limit[this.isHorizontal?"x":"y"]}},{key:"isHorizontal",get:function t(){return"horizontal"===this.options.orientation}},{key:"actualScroll",get:function t(){return this.isHorizontal?this.rootElement.scrollLeft:this.rootElement.scrollTop}},{key:"scroll",get:function t(){var e,i;return this.options.infinite?(e=this.animatedScroll,(e%(i=this.limit)+i)%i):this.animatedScroll}},{key:"progress",get:function t(){return 0===this.limit?1:this.scroll/this.limit}},{key:"isSmooth",get:function t(){return this.__isSmooth},set:function t(e){this.__isSmooth!==e&&(this.__isSmooth=e,this.toggleClass("lenis-smooth",e))}},{key:"isScrolling",get:function t(){return this.__isScrolling},set:function t(e){this.__isScrolling!==e&&(this.__isScrolling=e,this.toggleClass("lenis-scrolling",e))}},{key:"isStopped",get:function t(){return this.__isStopped},set:function t(e){this.__isStopped!==e&&(this.__isStopped=e,this.toggleClass("lenis-stopped",e))}},{key:"isLocked",get:function t(){return this.__isLocked},set:function t(e){this.__isLocked!==e&&(this.__isLocked=e,this.toggleClass("lenis-locked",e))}},{key:"className",get:function t(){var e="lenis";return this.isStopped&&(e+=" lenis-stopped"),this.isLocked&&(e+=" lenis-locked"),this.isScrolling&&(e+=" lenis-scrolling"),this.isSmooth&&(e+=" lenis-smooth"),e}}]),t}()});